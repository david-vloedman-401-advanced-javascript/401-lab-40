{"version":3,"sources":["components/modal/modal.module.scss","context/settings.js","components/auth/context.js","state/store/todo-reducer.js","state/store/index.js","components/auth/login.js","components/if/index.js","hooks/form.js","components/todo/form.js","components/todo/list.js","components/modal/index.js","components/todo/item.js","lib/api.js","state/store/todo-action.js","components/auth/auth.js","components/todo/todo.js","app.js","index.js"],"names":["module","exports","SettingsContext","React","createContext","Settings","props","state","maxVisible","showCompleted","Provider","value","this","children","Component","LoginContext","LoginProvider","login","token","cookie","save","setLoginState","logout","remove","loggedIn","load","setState","qs","URLSearchParams","window","location","search","cookieToken","get","initialState","todoList","showDetails","details","reducers","combineReducers","todo","action","type","payload","item","filter","_id","map","complete","form","formReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","If","condition","Login","handleChange","e","target","name","handleSubmit","preventDefault","superagent","post","auth","username","password","set","then","response","text","context","catch","err","console","error","id","onClick","onSubmit","placeholder","onChange","contextType","render","When","Unless","useForm","callback","useState","values","setValues","event","persist","reduxForm","Field","component","min","max","TodoList","page","setPage","useContext","start","end","list","slice","className","toString","key","handleComplete","handleDetails","handleDelete","length","Modal","styles","modal","title","close","Item","assignee","due","callAPI","url","method","body","handler","errorHandler","fetch","mode","cache","headers","JSON","stringify","undefined","json","data","todoAPI","destroy","Auth","okToRender","user","jwt","verify","capability","capabilities","includes","connect","dispatch","getState","handleGet","items","results","handlePost","result","log","handleToggle","_toggleDetails","useEffect","App","Main","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.df8c3194.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__2bhYs\"};","import React from \"react\";\n\nexport const SettingsContext = React.createContext();\n\nclass Settings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      maxVisible: 5,\n      showCompleted: true\n    };\n  }\n\n  render() {\n    return (\n      <SettingsContext.Provider value={this.state}>\n        {this.props.children}\n      </SettingsContext.Provider>\n    );\n  }\n}\n\nexport default Settings;\n","import React from \"react\";\nimport jwt from \"jsonwebtoken\";\nimport cookie from \"react-cookies\";\n\nexport const LoginContext = React.createContext();\n\nclass LoginProvider extends React.Component {\n  constructor(props) {\n    super(props);\n    const qs = new URLSearchParams(window.location.search);\n    const cookieToken = cookie.load(\"auth\");\n    const token = qs.get(\"token\") || cookieToken || null;\n\n    this.state = {\n      loggedIn: !!token,\n      token: token,\n      login: this.login,\n      logout: this.logout\n    };\n  }\n\n  login = token => {\n    cookie.save(\"auth\", token);\n    this.setLoginState(true);\n  };\n\n  logout = () => {\n    cookie.remove(\"auth\");\n    this.setLoginState(false);\n  };\n\n  setLoginState = loggedIn => {\n    let token = cookie.load(\"auth\");\n    this.setState({ token, loggedIn });\n  };\n\n  render() {\n    return (\n      <LoginContext.Provider value={this.state}>\n        {this.props.children}\n      </LoginContext.Provider>\n    );\n  }\n}\n\nexport default LoginProvider;\n","const initialState = { todoList: [], showDetails: null, details: {} };\n\nexport default (state = initialState, action) => {\n  let { type, payload } = action;\n\n  switch (type) {\n    case \"DETAILS\":\n      let item = state.todoList.filter(item => item._id === payload)[0] || {};\n      return { ...state, showDetails: !state.showDetails, details: item };\n\n    case \"GET\":\n      return { ...state, todoList: payload };\n\n    case \"POST\":\n      return { ...state, todoList: [...state.todoList, payload] };\n\n    case \"TOGGLE\":\n      return {\n        ...state,\n        todoList: state.todoList.map(item =>\n          item._id === payload ? { ...item, complete: !item.complete } : item\n        )\n      };\n\n    case \"DELETE\":\n      return {\n        ...state,\n        todoList: state.todoList.filter(item => item._id !== payload)\n      };\n\n    default:\n      return state;\n  }\n};\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { reducer as formReducer } from \"redux-form\";\nimport thunk from \"redux-thunk\";\n\nimport todoReducer from \"./todo-reducer\";\n\nlet reducers = combineReducers({\n  todo: todoReducer,\n  form: formReducer\n});\n\nconst store = () =>\n  createStore(reducers, composeWithDevTools(applyMiddleware(thunk)));\n\nexport default store;\n","import React from \"react\";\nimport { LoginContext } from \"./context\";\nimport superagent from \"superagent\";\n\nimport \"./login.scss\";\n\nconst API = `https://api-js401.herokuapp.com`;\n\nconst If = props => {\n  return !!props.condition ? props.children : null;\n};\n\nclass Login extends React.Component {\n  static contextType = LoginContext;\n  constructor(props) {\n    super(props);\n    this.state = { username: \"\", password: \"\" };\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = e => {\n    //use the uid, pw, and superagent an API call to server for authentication\n    //and capabilities\n    e.preventDefault();\n    superagent\n      .post(`${API}/signin`)\n      .auth(this.state.username, this.state.password)\n      .set(\"mode\", \"cors\")\n      .then(response => {\n        let token = response.text;\n        this.context.login(token);\n      })\n      .catch(err => console.error(err));\n  };\n\n  render() {\n    return (\n      <div id=\"login\">\n        <h2>ToDoodles To-do</h2>\n        <If condition={this.context.loggedIn}>\n          <button onClick={this.context.logout}>Log Out </button>\n        </If>\n        <If condition={!this.context.loggedIn}>\n          <form id=\"loginForm\" onSubmit={this.handleSubmit}>\n            <input\n              placeholder=\"username\"\n              name=\"username\"\n              onChange={this.handleChange}\n            />\n            <input\n              placeholder=\"password\"\n              name=\"password\"\n              onChange={this.handleChange}\n            />\n            <input type=\"submit\" value=\"login\" />\n          </form>\n        </If>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React from 'react';\n\nconst render = (condition = false, children = null) => {\n  return !!condition ? children : null;\n};\n\nexport const If = props =>\n  React.Children.map(props.children, child =>\n    React.cloneElement(child, { condition: props.condition }),\n  );\n\nexport const Then = props => render(props.condition, props.children);\nexport const Else = props => render(!props.condition, props.children);\n\n/*\n<When condition={true}>\n  <h2>When Works</h2>\n</When>\n*/\nexport const When = props => render(props.condition, props.children);\n\n/*\n<Unless condition={administrator}>\n  Pay more $$ and we will make you an admin\n</Unless>\n*/\nexport const Unless = props => render(!props.condition, props.children);\n","import { useState } from \"react\";\n\nconst useForm = callback => {\n  const [values, setValues] = useState({});\n\n  const handleSubmit = event => {\n    if (event) event.preventDefault();\n    callback(values);\n  };\n\n  const handleChange = event => {\n    event.persist();\n    setValues(values => ({\n      ...values,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  return {\n    handleChange,\n    handleSubmit,\n    values\n  };\n};\n\nexport default useForm;\n","import React from \"react\";\nimport useForm from \"../../hooks/form.js\";\nimport { Field, reduxForm } from \"redux-form\";\n\nconst TodoForm = props => {\n  const { handleChange, handleSubmit } = useForm(props.handleSubmit);\n\n  return (\n    <>\n      <h3>Add Item</h3>\n      {/* <Form schema={schema} uiSchema={uiSchema} onSubmit={handleSubmit} /> */}\n      <form onChange={handleChange} onSubmit={handleSubmit}>\n        <label>\n          <span>To Do Item</span>\n          <Field\n            name=\"text\"\n            component=\"input\"\n            placeholder=\"Add To Do List Item\"\n          />\n        </label>\n        <label>\n          <span>Difficulty Rating</span>\n          <Field\n            type=\"range\"\n            component=\"input\"\n            min=\"1\"\n            max=\"5\"\n            name=\"difficulty\"\n          />\n        </label>\n        <label>\n          <span>Assigned To</span>\n          <Field\n            type=\"text\"\n            component=\"input\"\n            name=\"assignee\"\n            placeholder=\"Assigned To\"\n          />\n        </label>\n        <label>\n          <span>Due</span>\n          <Field component=\"input\" type=\"date\" name=\"due\" />\n        </label>\n        <button>Add Item</button>\n      </form>\n    </>\n  );\n};\n\nexport default reduxForm({\n  form: \"todo\"\n})(TodoForm);\n","import React, { useContext, useState } from \"react\";\nimport { Unless, When } from \"../if/\";\nimport { SettingsContext } from \"../../context/settings.js\";\n\nconst TodoList = props => {\n  const [page, setPage] = useState(0);\n  const context = useContext(SettingsContext);\n\n  const start = context.maxVisible * page;\n  const end = start + context.maxVisible;\n  const list = props.list.todoList ? props.list.todoList.slice(start, end) : [];\n\n  return (\n    <>\n      <ul>\n        {list.map(item => (\n          <Unless condition={item.complete && !context.showCompleted}>\n            <li\n              className={`complete-${item.complete.toString()}`}\n              key={item._id}\n            >\n              <span onClick={() => props.handleComplete(item._id)}>\n                {item.text}\n              </span>\n              <button onClick={() => props.handleDetails(item._id)}>\n                Details\n              </button>\n              <button onClick={() => props.handleDelete(item._id)}>\n                Delete\n              </button>\n            </li>\n          </Unless>\n        ))}\n      </ul>\n\n      <When condition={page > 0}>\n        <button onClick={() => setPage(page - 1)}>Previous</button>\n      </When>\n\n      <When condition={props.list.todoList.length > end}>\n        <button onClick={() => setPage(page + 1)}>Next</button>\n      </When>\n    </>\n  );\n};\n\nexport default TodoList;\n","import React from 'react';\n\nimport styles from './modal.module.scss';\n\nconst Modal = props => {\n  return (\n    <div className={styles.modal}>\n      <div>\n        <header>\n          <span className=\"title\">{props.title}</span>\n          <button onClick={props.close}>X</button>\n        </header>\n        <div>{props.children}</div>\n      </div>\n    </div>\n  );\n};\nexport default Modal;\n","import React from 'react';\nimport Modal from '../modal';\n\nconst Item = (props) => {\n\n  const item = props.item || {};\n\n  return (\n    <Modal title=\"To Do Item\" close={props.handleDetails}>\n      <div className=\"todo-details\">\n        <header>\n          <span>Assigned To: {item.assignee}</span>\n          <span>Due: {item.due}</span>\n        </header>\n        <div className=\"item\">\n          {item.text}\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default Item;\n","const callAPI = (url, method = \"get\", body, handler, errorHandler) => {\n  return fetch(url, {\n    method: method,\n    mode: \"cors\",\n    cache: \"no-cache\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: body ? JSON.stringify(body) : undefined\n  })\n    .then(response => response.json())\n    .then(data => (typeof handler === \"function\" ? handler(data) : data))\n    .catch(e =>\n      typeof errorHandler === \"function\" ? errorHandler(e) : console.error(e)\n    );\n};\n\nexport { callAPI };\n","import { callAPI } from \"../../lib/api\";\n\nlet todoAPI = \"https://api-js401.herokuapp.com/api/v1/todo\";\n\nexport const getTodoItems = () => dispatch => {\n  return callAPI(todoAPI, \"GET\")\n    .then(items => dispatch(get(items.results)))\n    .catch(console.error);\n};\n\nexport const get = payload => {\n  return {\n    type: \"GET\",\n    payload: payload\n  };\n};\n\nexport const toggle = payload => dispatch => {\n  console.log(payload);\n  return callAPI(`${todoAPI}/${payload}`, \"PUT\", { complete: true })\n    .then(results => {\n      console.log(results);\n      dispatch({ type: \"TOGGLE\", payload: payload });\n    })\n    .catch(e => console.log(e));\n};\n\nexport const details = payload => {\n  return {\n    type: \"DETAILS\",\n    payload: payload\n  };\n};\n\nexport const postData = payload => dispatch => {\n  return callAPI(todoAPI, \"POST\", payload)\n    .then(result => {\n      console.log(result);\n      dispatch(post(result));\n    })\n    .catch(e => console.log(e));\n};\n\nexport const post = payload => {\n  return {\n    type: \"POST\",\n    payload: payload\n  };\n};\n\nexport const destroyData = payload => dispatch => {\n  return callAPI(`${todoAPI}/${payload}`, \"DELETE\")\n    .then(() => dispatch(destroy(payload)))\n    .catch(console.error);\n};\n\nexport const destroy = payload => {\n  return {\n    type: \"DELETE\",\n    payload: payload\n  };\n};\n","import React from \"react\";\nimport jwt from \"jsonwebtoken\";\nimport { LoginContext } from \"./context.js\";\n\nconst If = props => {\n  return !!props.condition ? props.children : null;\n};\n\nclass Auth extends React.Component {\n  static contextType = LoginContext;\n\n  render() {\n    let okToRender = false;\n    let user = {};\n\n    try {\n      user = this.context.token\n        ? jwt.verify(this.context.token, `supersecret`)\n        : {};\n\n      okToRender =\n        this.context.loggedIn &&\n        (this.props.capability\n          ? user.capabilities.includes(this.props.capability)\n          : true);\n    } catch (e) {}\n\n    return (\n      <If condition={okToRender}>\n        <div>{this.props.children}</div>\n      </If>\n    );\n  }\n}\n\nexport default Auth;\n","import React, { useEffect } from \"react\";\nimport { When } from \"../if\";\nimport TodoForm from \"./form.js\";\nimport TodoList from \"./list.js\";\nimport TodoItem from \"./item.js\";\n\nimport * as actions from \"../../state/store/todo-action\";\n\nimport Auth from \"../auth/auth\";\n\nimport \"./todo.scss\";\nimport { connect } from \"react-redux\";\n\nconst ToDo = props => {\n  const _addItem = data => {\n    data.complete = false;\n    props.handlePost(data);\n  };\n\n  const _deleteItem = id => {\n    props.handleDelete(id);\n  };\n\n  const _toggleComplete = id => {\n    props.handleToggle(id);\n  };\n\n  const _toggleDetails = id => {\n    props.handleDetails(id);\n  };\n\n  const _getTodoItems = () => {\n    props.handleGet();\n  };\n\n  useEffect(() => {\n    _getTodoItems();\n  });\n\n  return (\n    <>\n      <Auth capability=\"read\">\n        <header id=\"todoCount\">\n          <h2>\n            There are{\" \"}\n            {props.todo.todoList.filter(item => !item.complete).length} Items To\n            Complete\n          </h2>\n        </header>\n      </Auth>\n\n      <section className=\"todo\">\n        <Auth capability=\"create\">\n          <div>\n            <TodoForm handleSubmit={_addItem} />\n          </div>\n        </Auth>\n\n        <Auth capability=\"read\">\n          <div>\n            <TodoList\n              list={props.todo}\n              handleComplete={_toggleComplete}\n              handleDetails={_toggleDetails}\n              handleDelete={_deleteItem}\n            />\n          </div>\n        </Auth>\n      </section>\n\n      <When condition={props.todo.showDetails}>\n        <TodoItem handleDetails={_toggleDetails} item={props.todo.details} />\n      </When>\n    </>\n  );\n};\n\nconst mapStateToProps = state => ({\n  todo: state.todo\n});\n\nconst mapDispatchToProps = (dispatch, getState) => ({\n  handleGet: () => dispatch(actions.getTodoItems()),\n  handleDetails: id => dispatch(actions.details(id)),\n  handlePost: data => dispatch(actions.postData(data)),\n  handleToggle: id => dispatch(actions.toggle(id)),\n  handleDelete: id => dispatch(actions.destroyData(id))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ToDo);\n","import React from \"react\";\nimport Login from \"./components/auth/login\";\nimport ToDo from \"./components/todo/todo.js\";\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <>\n        <Login />\n        <ToDo />\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport SettingsContext from \"./context/settings.js\";\nimport LoginContext from \"./components/auth/context\";\nimport createStore from \"../src/state/store\";\nimport App from \"./app.js\";\nconst store = createStore();\n\nclass Main extends React.Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <LoginContext>\n          <SettingsContext>\n            <App />\n          </SettingsContext>\n        </LoginContext>\n      </Provider>\n    );\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}